{% extends 'base.html.twig' %}

{% block title %}Wykresy Danych{% endblock %}

{% block body %}
    <div class="container mt-4">
        <h1>Wykresy Danych</h1>
        <p>Poniżej znajdują się wykresy danych związanych z piłką nożną.</p>

        <hr class="my-4">

        <section id="data_charts">
            <h2 class="mb-4">Wykresy</h2>
            <div class="row mb-4">
                <div class="col-md-12">
                    <canvas id="goalsChart"></canvas>
                </div>
            </div>
            <hr>
            <div class="row mb-4">
                <div class="col-md-12">
                    <canvas id="assistsChart"></canvas>
                </div>
            </div>
        </section>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const ctx1 = document.getElementById('goalsChart').getContext('2d');
            const goalsChart = new Chart(ctx1, {
                type: 'line',
                data: {
                    labels: ["2017", "2018", "2018/2019", "2019/2020", "2020/2021", "2021/2022", "2022/2023", "2023/2024"],
                    datasets: [{
                        label: 'Goals per 90 min',
                        data: [0.38, 0.37, 0.84, 0.21, 0.2, 0.14, 0.57, 0.32, 0.72],
                        borderColor: 'blue',
                        borderWidth: 2,
                        fill: false,
                        lineTension: 0,
                        pointRadius: 5,
                        pointBackgroundColor: 'orange',
                    }]
                },
                options: {
                    title: {
                        display: true,
                        text: 'Goals per 90 min in the league'
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 1.3
                        }
                    }
                }
            });

            const ctx2 = document.getElementById('assistsChart').getContext('2d');
            const assistsChart = new Chart(ctx2, {
                type: 'line',
                data: {
                    labels: ["2017", "2018", "2018/2019", "2019/2020", "2020/2021", "2021/2022", "2022/2023", "2023/2024"],
                    datasets: [{
                        label: 'Assists per 90 min',
                        data: [0.13, 0.28, 0, 0, 0.07, 0.14, 0.33, 0.29, 0.24],
                        borderColor: 'green',
                        borderWidth: 2,
                        fill: false,
                        lineTension: 0,
                        pointRadius: 5,
                        pointBackgroundColor: 'orange',
                    }]
                },
                options: {
                    title: {
                        display: true,
                        text: 'Assists per 90 min in the league'
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 1.0
                        }
                    }
                }
            });
        });
    </script>
{% endblock %}
